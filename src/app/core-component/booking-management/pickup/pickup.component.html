<div class="page-header">
    <div class="add-item d-flex">
      <div class="page-title">
        <h4>Pickup List</h4>
        <h6>Manage Your pickup List</h6>
        <p-toast></p-toast>
        <!-- <button type="button" class="btn btn-primary btn-wave" id="liveToastBtn" pButton pRipple
          (click)="show()" label="Show">Show live
          toast</button>  -->
      </div>
    </div>
    <ul class="table-top-head">
      <!-- <li>
        <a data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Pdf" matTooltipPosition="above"><img
            src="assets/img/icons/pdf.svg" alt="img" /></a>
      </li> -->
      <!-- <li>
        <a matTooltip="Export to Excel" matTooltipPosition="above" (click)="exportAsExcelFile()">
          <img src="assets/img/icons/xls.svg" alt="Export to Excel" />
        </a>
      </li> -->
      <!-- <li>
        <a data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Print" matTooltipPosition="above"><i
            class="feather icon-printer feather-rotate-ccw"></i></a>
      </li> -->
      <li>
        <!-- <a data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Refresh" matTooltipPosition="above"
            (click)="getUserDetails()"><i class="feather icon-rotate-ccw feather-rotate-ccw"></i></a> -->
      </li>
      <li>
        <a (click)="toggleCollapse()" data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Collapse"
          matTooltipPosition="above" id="collapse-header">
          @if (!isCollapsed) {
          <i class="feather icon-chevron-up feather-chevron-up"></i>
          } @if (isCollapsed) {
          <i class="feather icon-chevron-down feather-chevron-down"></i>
          }</a>
      </li>
    </ul>
    <div class="page-btn">
      <!-- <a [routerLink] = "routes.addusers" class="btn btn-added"><i class="feather icon-plus-circle me-2"></i>Add New User</a>  -->
    </div>
  </div>
  
  <div class="card table-list-card">
    <div class="card-body">
      <div class="table-top">
        <div class="search-set">
          <div class="search-input">
            <a href="javascript:void(0);" class="btn btn-searchset"><i class="feather icon-search feather-search"></i></a>
            <div class="dataTables_filter">
              <label>
                <input [(ngModel)]="searchDataValue" [ngModelOptions]="{ standalone: true }"
                  (ngModelChange)="searchData(searchDataValue)" type="search" class="form-control"
                  placeholder="Search..." />
              </label>
            </div>
          </div>
        </div>
        <!-- <div class="search-path">
          <div class="d-flex align-items-center">
            <a class="btn btn-filter" id="filter_search" (click)="openFilter()" [ngClass]="{ setclose: filter === true }">
              <i class="feather icon-filter filter-icon"></i>
              <span><img src="assets/img/icons/closes.svg" alt="img" /></span>
            </a>
          </div>
        </div> -->
        <!-- <div class="form-sort">
          <i class="feather icon-sliders info-img"></i>
          <mat-select [(ngModel)]="selectedValue2" [ngModelOptions]="{ standalone: true }" class="space-select select"
              placeholder="Sort by Date">
              <mat-option value="Sort by Date">Sort by Date</mat-option>
              <mat-option value="Newest">Newest</mat-option>
              <mat-option value="Oldest">Oldest</mat-option>
            </mat-select>
        </div> -->
      </div>
  
  
      <!-- /Filter -->
      <!-- <div class="card" id="filter_inputs" [ngClass]="{ 'd-block': filter, 'd-none': !filter }">
        <div class="card-body pb-0">
          <div class="row">
            <div class="col-lg-3 col-sm-6 col-12">
              <div class="input-blocks">
                <i class="feather icon-user info-img"></i>
                <mat-select class="space-select select" placeholder="Choose User"
                  (selectionChange)="getDonationListByUser($event)">
                  <mat-option *ngFor="let user of userList" [value]="user.loginId">
                    {{user.firstName}} {{user.lastName}}
                  </mat-option>
                </mat-select>
  
              </div>
            </div>
            <div class="col-lg-3 col-sm-6 col-12">
              <div class="input-blocks">
                <i class="feather icon-stop-circle info-img"></i>
                <mat-select class="space-select select" placeholder="Choose Teamleader"
                  (selectionChange)="getDonationListByUser($event)">
                  <mat-option *ngFor="let teamLeader of teamLeaderList" [value]="teamLeader.loginId">
                    {{teamLeader.firstName}} {{teamLeader.lastName}}
                  </mat-option>
                </mat-select>
              </div>
            </div>
  
            <div class="col-lg-3 col-sm-6 col-12">
              <div class="input-blocks">
                <a class="btn btn-filters ms-auto">
                  <i class="feather icon-search feather-search"></i> Search
                </a>
              </div>
            </div>
          </div>
        </div>
      </div> -->
  
  
      <div class="card-body">
        <ul class="nav nav-tabs nav-tabs-solid nav-justified mb-3">
          <li class="nav-item"><a class="nav-link active" href="#solid-justified-tab1" data-bs-toggle="tab"
              >Today's Reports</a></li>
          <li class="nav-item"><a class="nav-link" href="#solid-justified-tab2" data-bs-toggle="tab"
              >Yesterday's Reports</a></li>
          <li class="nav-item"><a class="nav-link" href="#solid-justified-tab3" data-bs-toggle="tab"
              >'s Reports</a></li>
              <li class="nav-item"><a class="nav-link" href="#solid-justified-tab4" data-bs-toggle="tab"
                >Custom  Report</a></li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane show active" id="solid-justified-tab1">
            <div class="table-responsive">
              <table matSort (matSortChange)="sortData($event)" class="table datanew">
                <thead>
                  <tr>
                    <th mat-sort-header="userName">category Type</th>
                    <th mat-sort-header="loginId">SuperCategory</th>
                    <th mat-sort-header="phone">category </th>
                    <th mat-sort-header="role">Sub Category</th>
                    <th mat-sort-header="createdOn">Drop Date</th>
                    <th mat-sort-header="program">customeName</th>
                    <th mat-sort-header="program">Mobile No</th>
                    <th mat-sort-header="date&Time">Date & Time</th>
                    <th mat-sort-header="invoiceNumber">Invoice Number</th>
                    <th mat-sort-header="status">Status</th>
                    <th class="no-sort">Action</th>
                  </tr>
                </thead>
                <tbody>
                  @for (data of tableData; track data) {
                  <tr>
                    <td>{{ data.categoryTypeName }} </td>
                    <td>{{ data.superCategory }}</td>
                    <td>{{ data.category }} </td>
                    <td>{{ data.subCategory }}</td>
                    <td>{{ data.dropDate }}</td>
                    <td>{{ data.customeName }}</td>
                    <td>{{ data.countryDialCode }} {{data.customerMobile}}</td>
                    <td>{{ data.createdAt | date : "dd-MM-yyyy | HH:mm" }}</td>
                    <td>{{ data.invoiceNumber}}</td>
                    <td>
                      <button class="badge-button"
                      [ngClass]="{'badge-linesuccess': data.status === 'ACTIVE','badge-linedanger': data.status === 'INACTIVE'}">
                      {{ data.status}}
                      </button>
                    </td>
                    <td class="action-table-data">
                      <!-- <div class="edit-delete-action">
                      
                        <a class="me-2 p-2 mb-0" data-bs-toggle="modal" data-bs-target="#edit-units"
                          (click)="openEditModal(dialogTemplate, data)" *ngIf =isSuperadmin>
                          <i class="feather icon-edit feather-edit"></i></a>
  
                          <a class="me-2 p-2 mb-0" data-bs-toggle="modal" data-bs-target="#edit-units"
                          (click)="downloadInvoice(data.receiptNumber)">
                          <i class="feather icon-download feather-download"></i></a>
  
                      </div> -->
                    </td>
                  </tr>
                  }
                </tbody>
              </table>
            </div>
          </div>
          <div class="tab-pane" id="solid-justified-tab2">
            <div class="table-responsive">
              <table matSort (matSortChange)="sortData($event)" class="table datanew">
                <thead>
                    <tr>
                      <th mat-sort-header="userName">category Type</th>
                      <th mat-sort-header="loginId">SuperCategory</th>
                      <th mat-sort-header="phone">category </th>
                      <th mat-sort-header="role">Sub Category</th>
                      <th mat-sort-header="createdOn">Drop Date</th>
                      <th mat-sort-header="program">customeName</th>
                      <th mat-sort-header="program">Mobile No</th>
                      <th mat-sort-header="date&Time">Date & Time</th>
                      <th mat-sort-header="invoiceNumber">Invoice Number</th>
                      <th mat-sort-header="status">Status</th>
                      <th class="no-sort">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (data of tableData; track data) {
                    <tr>
                      <td>{{ data.categoryTypeName }} </td>
                      <td>{{ data.superCategory }}</td>
                      <td>{{ data.category }} </td>
                      <td>{{ data.subCategory }}</td>
                      <td>{{ data.dropDate }}</td>
                      <td>{{ data.customeName }}</td>
                      <td>{{ data.countryDialCode }} {{data.customerMobile}}</td>
                      <td>{{ data.createdAt | date : "dd-MM-yyyy | HH:mm" }}</td>
                      <td>{{ data.invoiceNumber}}</td>
                      <td>
                        <button class="badge-button"
                        [ngClass]="{'badge-linesuccess': data.status === 'ACTIVE','badge-linedanger': data.status === 'INACTIVE'}">
                        {{ data.status}}
                        </button>
                      </td>
                      <td class="action-table-data">
                        <!-- <div class="edit-delete-action">
                        
                          <a class="me-2 p-2 mb-0" data-bs-toggle="modal" data-bs-target="#edit-units"
                            (click)="openEditModal(dialogTemplate, data)" *ngIf =isSuperadmin>
                            <i class="feather icon-edit feather-edit"></i></a>
    
                            <a class="me-2 p-2 mb-0" data-bs-toggle="modal" data-bs-target="#edit-units"
                            (click)="downloadInvoice(data.receiptNumber)">
                            <i class="feather icon-download feather-download"></i></a>
    
                        </div> -->
                      </td>
                    </tr>
                    }
                  </tbody>
              </table>
            </div>
          </div>
          <div class="tab-pane" id="solid-justified-tab3">
            <div class="table-responsive">
              <table matSort (matSortChange)="sortData($event)" class="table datanew">
                <thead>
                    <tr>
                      <th mat-sort-header="userName">category Type</th>
                      <th mat-sort-header="loginId">SuperCategory</th>
                      <th mat-sort-header="phone">category </th>
                      <th mat-sort-header="role">Sub Category</th>
                      <th mat-sort-header="createdOn">Drop Date</th>
                      <th mat-sort-header="program">customeName</th>
                      <th mat-sort-header="program">Mobile No</th>
                      <th mat-sort-header="date&Time">Date & Time</th>
                      <th mat-sort-header="invoiceNumber">Invoice Number</th>
                      <th mat-sort-header="status">Status</th>
                      <th class="no-sort">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (data of tableData; track data) {
                    <tr>
                      <td>{{ data.categoryTypeName }} </td>
                      <td>{{ data.superCategory }}</td>
                      <td>{{ data.category }} </td>
                      <td>{{ data.subCategory }}</td>
                      <td>{{ data.dropDate }}</td>
                      <td>{{ data.customeName }}</td>
                      <td>{{ data.countryDialCode }} {{data.customerMobile}}</td>
                      <td>{{ data.createdAt | date : "dd-MM-yyyy | HH:mm" }}</td>
                      <td>{{ data.invoiceNumber}}</td>
                      <td>
                        <button class="badge-button"
                        [ngClass]="{'badge-linesuccess': data.status === 'ACTIVE','badge-linedanger': data.status === 'INACTIVE'}">
                        {{ data.status}}
                        </button>
                      </td>
                      <td class="action-table-data">
                        <!-- <div class="edit-delete-action">
                        
                          <a class="me-2 p-2 mb-0" data-bs-toggle="modal" data-bs-target="#edit-units"
                            (click)="openEditModal(dialogTemplate, data)" *ngIf =isSuperadmin>
                            <i class="feather icon-edit feather-edit"></i></a>
    
                            <a class="me-2 p-2 mb-0" data-bs-toggle="modal" data-bs-target="#edit-units"
                            (click)="downloadInvoice(data.receiptNumber)">
                            <i class="feather icon-download feather-download"></i></a>
    
                        </div> -->
                      </td>
                    </tr>
                    }
                  </tbody>
              </table>
            </div>
          </div>
  
          <div class="tab-pane" id="solid-justified-tab4">
            <div class="table-responsive">
  
              <div class="row">
  
                <div class="col-sm-2">
                  <label> From</label>
                  <input class="form-control" pInputText type="date" #firstDate>
                </div>
                <div class="col-sm-2">
                  <label> To </label>
                  <input class="form-control" pInputText type="date" #lastDate>
          
                </div>
                <!-- <div class="col-sm-2">
                  <br>
                 
                  <button type="submit" class="btn btn-warning " 
                    (click)="getDonationListByDate(firstDate.value,lastDate.value)"
                    style="margin-top: 8px; margin-left: 0px;"><i class="feather icon-search feather-search"></i> Search</button>
                </div>
                  <div class="col-2" *ngIf = showExcelReport>
                    <label> Export Excel Report</label>
                    <br>
                   
                    <a matTooltip="Export to Excel" matTooltipPosition="above" (click)="exportAsExcelFile()">
                      <img src="assets/img/icons/xls.svg" alt="Export Excel Report" width="30" />
                    </a>
                  </div>
              </div> -->
              <br><br>
  
              <table matSort (matSortChange)="sortData($event)" class="table datanew">
                <thead>
                    <tr>
                      <th mat-sort-header="userName">category Type</th>
                      <th mat-sort-header="loginId">SuperCategory</th>
                      <th mat-sort-header="phone">category </th>
                      <th mat-sort-header="role">Sub Category</th>
                      <th mat-sort-header="createdOn">Drop Date</th>
                      <th mat-sort-header="program">customeName</th>
                      <th mat-sort-header="program">Mobile No</th>
                      <th mat-sort-header="date&Time">Date & Time</th>
                      <th mat-sort-header="invoiceNumber">Invoice Number</th>
                      <th mat-sort-header="status">Status</th>
                      <th class="no-sort">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (data of tableData; track data) {
                    <tr>
                      <td>{{ data.categoryTypeName }} </td>
                      <td>{{ data.superCategory }}</td>
                      <td>{{ data.category }} </td>
                      <td>{{ data.subCategory }}</td>
                      <td>{{ data.dropDate }}</td>
                      <td>{{ data.customeName }}</td>
                      <td>{{ data.countryDialCode }} {{data.customerMobile}}</td>
                      <td>{{ data.createdAt | date : "dd-MM-yyyy | HH:mm" }}</td>
                      <td>{{ data.invoiceNumber}}</td>
                      <td>
                        <button class="badge-button"
                        [ngClass]="{'badge-linesuccess': data.status === 'ACTIVE','badge-linedanger': data.status === 'INACTIVE'}">
                        {{ data.status}}
                        </button>
                      </td>
                      <td class="action-table-data">
                        <!-- <div class="edit-delete-action">
                        
                          <a class="me-2 p-2 mb-0" data-bs-toggle="modal" data-bs-target="#edit-units"
                            (click)="openEditModal(dialogTemplate, data)" *ngIf =isSuperadmin>
                            <i class="feather icon-edit feather-edit"></i></a>
    
                            <a class="me-2 p-2 mb-0" data-bs-toggle="modal" data-bs-target="#edit-units"
                            (click)="downloadInvoice(data.receiptNumber)">
                            <i class="feather icon-download feather-download"></i></a>
    
                        </div> -->
                      </td>
                    </tr>
                    }
                  </tbody>
              </table>
            </div>
          </div>
  
  
        </div>
      </div>
  
  
      <!-- /Filter -->
      <app-custom-pagination></app-custom-pagination>
  
    </div>
  </div>
  
  